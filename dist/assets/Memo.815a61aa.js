import{k as e,o as t,m as a,a as n,B as r,w as o,c,D as l,_ as s,b as i,F as u,S as p,u as v,L as d,p as f,j as y,$ as b,n as j,l as g,R as m,d as h,M as w}from"./vendor.85b0840f.js";/* empty css                  */var x=e({name:"Refresh"});const O={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},A=n("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1);x.render=function(e,n,r,o,c,l){return t(),a("svg",O,[A])},x.__file="packages/components/Refresh.vue";var k=x,S=e({name:"Search"});const M={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_=n("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1);S.render=function(e,n,r,o,c,l){return t(),a("svg",M,[_])},S.__file="packages/components/Search.vue";var P=S,E="object"==typeof global&&global&&global.Object===Object&&global,T="object"==typeof self&&self&&self.Object===Object&&self,C=E||T||Function("return this")(),B=C.Symbol,D=Object.prototype,F=D.hasOwnProperty,I=D.toString,L=B?B.toStringTag:void 0;var z=Object.prototype.toString;var U=B?B.toStringTag:void 0;function V(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=F.call(e,L),a=e[L];try{e[L]=void 0;var n=!0}catch(o){}var r=I.call(e);return n&&(t?e[L]=a:delete e[L]),r}(e):function(e){return z.call(e)}(e)}function $(e){return null!=e&&"object"==typeof e}var R=Array.isArray;function H(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function W(e){if(!H(e))return!1;var t=V(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var q,K=C["__core-js_shared__"],N=(q=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var G=Function.prototype.toString;function J(e){if(null!=e){try{return G.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Q=/^\[object .+?Constructor\]$/,X=Function.prototype,Y=Object.prototype,Z=X.toString,ee=Y.hasOwnProperty,te=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ae(e){return!(!H(e)||(t=e,N&&N in t))&&(W(e)?te:Q).test(J(e));var t}function ne(e,t){var a=function(e,t){return null==e?void 0:e[t]}(e,t);return ae(a)?a:void 0}var re=ne(C,"WeakMap");function oe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var ce=Object.prototype;function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ce)}function se(e){return $(e)&&"[object Arguments]"==V(e)}var ie=Object.prototype,ue=ie.hasOwnProperty,pe=ie.propertyIsEnumerable,ve=se(function(){return arguments}())?se:function(e){return $(e)&&ue.call(e,"callee")&&!pe.call(e,"callee")};var de="object"==typeof exports&&exports&&!exports.nodeType&&exports,fe=de&&"object"==typeof module&&module&&!module.nodeType&&module,ye=fe&&fe.exports===de?C.Buffer:void 0,be=(ye?ye.isBuffer:void 0)||function(){return!1},je={};je["[object Float32Array]"]=je["[object Float64Array]"]=je["[object Int8Array]"]=je["[object Int16Array]"]=je["[object Int32Array]"]=je["[object Uint8Array]"]=je["[object Uint8ClampedArray]"]=je["[object Uint16Array]"]=je["[object Uint32Array]"]=!0,je["[object Arguments]"]=je["[object Array]"]=je["[object ArrayBuffer]"]=je["[object Boolean]"]=je["[object DataView]"]=je["[object Date]"]=je["[object Error]"]=je["[object Function]"]=je["[object Map]"]=je["[object Number]"]=je["[object Object]"]=je["[object RegExp]"]=je["[object Set]"]=je["[object String]"]=je["[object WeakMap]"]=!1;var ge,me="object"==typeof exports&&exports&&!exports.nodeType&&exports,he=me&&"object"==typeof module&&module&&!module.nodeType&&module,we=he&&he.exports===me&&E.process,xe=function(){try{var e=he&&he.require&&he.require("util").types;return e||we&&we.binding&&we.binding("util")}catch(t){}}(),Oe=xe&&xe.isTypedArray,Ae=Oe?(ge=Oe,function(e){return ge(e)}):function(e){return $(e)&&oe(e.length)&&!!je[V(e)]};var ke=function(e,t){return function(a){return e(t(a))}}(Object.keys,Object),Se=Object.prototype.hasOwnProperty;var Me=ne(C,"Map"),_e=ne(C,"DataView"),Pe=ne(C,"Promise"),Ee=ne(C,"Set"),Te=J(_e),Ce=J(Me),Be=J(Pe),De=J(Ee),Fe=J(re),Ie=V;(_e&&"[object DataView]"!=Ie(new _e(new ArrayBuffer(1)))||Me&&"[object Map]"!=Ie(new Me)||Pe&&"[object Promise]"!=Ie(Pe.resolve())||Ee&&"[object Set]"!=Ie(new Ee)||re&&"[object WeakMap]"!=Ie(new re))&&(Ie=function(e){var t=V(e),a="[object Object]"==t?e.constructor:void 0,n=a?J(a):"";if(n)switch(n){case Te:return"[object DataView]";case Ce:return"[object Map]";case Be:return"[object Promise]";case De:return"[object Set]";case Fe:return"[object WeakMap]"}return t});var Le=Ie,ze=Object.prototype.hasOwnProperty;function Ue(e){if(null==e)return!0;if(function(e){return null!=e&&oe(e.length)&&!W(e)}(e)&&(R(e)||"string"==typeof e||"function"==typeof e.splice||be(e)||Ae(e)||ve(e)))return!e.length;var t=Le(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(le(e))return!function(e){if(!le(e))return ke(e);var t=[];for(var a in Object(e))Se.call(e,a)&&"constructor"!=a&&t.push(a);return t}(e).length;for(var a in e)if(ze.call(e,a))return!1;return!0}f("data-v-a57797e4");const Ve={class:"input-container"},$e={class:"bar"},Re=["disabled"],He={class:"loading-box"};y();var We=e({props:{tags:{type:Array,default:[]}},setup(e){const a=e,n=r(null),f=r(!1),y=(e=null)=>{null===e?(n.value.classList.toggle("hidden"),f.value=!f.value):!0===e?(n.value.classList.add("hidden"),f.value=!1):(n.value.classList.remove("hidden"),f.value=!0)},m=(e=null)=>{const{x:t,y:a}=(e=>{const{offsetLeft:t,offsetTop:a,selectionEnd:n}=e,r=document.createElement("div"),o=window.getComputedStyle(e);for(const i of Array.from(o))r.style.setProperty(i,o.getPropertyValue(i));r.style.position="fixed",r.style.visibility="hidden",r.style.whiteSpace="pre-wrap",r.innerHTML=e.value.slice(0,n);const c=document.createElement("span");c.innerHTML=e.value.slice(n),r.appendChild(c),document.body.appendChild(r);const l=c.offsetLeft,s=c.offsetTop;return document.body.removeChild(r),{x:t+l,y:a+s}})(x.value),r=t+15,o=a+22;return n.value.style.top=o+"px",n.value.style.left=r+"px",y(e),!1},h=r(a.tags),w=r(""),x=r(null),O=(e=1)=>{const t=h.value,a=()=>{t.forEach((e=>{e.active=!1}))};if(1===e){const e=t.findIndex((e=>e.active));a();const n=e+1<t.length?e+1:0;t[n].active=!0}else{const e=t.findIndex((e=>e.active));a();t[e-1>0?e-1:0].active=!0}};document.onclick=()=>{y(!0)},o(w,(()=>{x.value.style.height="auto",x.value.style.height=x.value.scrollHeight+"px"}));const A=e=>{const t=e.key;if(console.log(t),("#"===t||"#"===t)&&a.tags.length)return m(!1),!1;if("Enter"==e.key&&e.ctrlKey&&S(),f.value){if("Backspace"===t)return void y(!0);if(e.stopPropagation(),e.preventDefault(),"ArrowUp"===t?O(-1):"ArrowDown"===t&&O(1)," "===t&&y(!0),"Enter"===t){const e=h.value.find((e=>e.active));k(e.name+" "),y(!0)}}},k=e=>{const{selectionEnd:t}=x.value,a=t,n=w.value,r=n.slice(0,t)+e+n.slice(t);w.value=r,x.value.blur(),b((()=>{x.value.selectionEnd=a+e.length,x.value.focus()}))},S=()=>{const e={tags:M(w.value),content:w.value};var t;(t=e,new Promise((e=>{setTimeout((()=>{e(t)}),1e3)}))).then((e=>{_.value=!1}))},M=e=>Array.from(e.match(/#[^\s#]+/g)||[]),_=r(!1);return(e,r)=>(t(),c("div",Ve,[l(i("textarea",{name:"text-input",ref:x,"onUpdate:modelValue":r[0]||(r[0]=e=>w.value=e),onKeydown:A},null,544),[[s,w.value]]),i("div",{class:"suggestion hidden",ref:n,onClick:r[1]||(r[1]=e=>(e=>{const t=e.target.innerText;k(t+" ")})(e))},[(t(!0),c(u,null,p(h.value,(e=>(t(),c("span",{class:j({active:e.active})},g(e.name),3)))),256))],512),i("div",$e,[i("span",{class:"tag-icon",onClick:r[2]||(r[2]=e=>(e=>{if(e.preventDefault(),e.stopPropagation(),k("#"),0===a.tags.length)return!1;m(!1)})(e))}," # "),i("button",{class:"save",onClick:r[3]||(r[3]=e=>(e=>{e.preventDefault(),e.stopPropagation(),_.value=!0,console.log(_.value),S()})(e)),disabled:v(Ue)(w.value)}," 发送 ",8,Re)]),l(i("div",He,"loading...",512),[[d,_.value]])]))}});We.__scopeId="data-v-a57797e4",f("data-v-5e9ac864");const qe={class:"card"},Ke={class:"header"},Ne={class:"time-text"},Ge={class:"more"},Je=i("svg",{"data-v-38588c71":"",width:"16px",height:"16px",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"data-v-38588c71":"","fill-rule":"evenodd",d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})],-1),Qe=[h('<li data-type="get-link" data-v-5e9ac864>复制链接</li><li data-type="set-top" data-v-5e9ac864>置顶</li><li data-type="detail" data-v-5e9ac864>查看详情</li><li data-type="edit" data-v-5e9ac864>编辑</li><li data-type="delete" data-v-5e9ac864>删除</li>',5)],Xe={class:"content"},Ye={class:"footer"},Ze={class:"tag-view"};y();var et=e({props:{article:{type:Object,default:{}}},setup(e){const a=m(e.article);return console.log({article:a}),(e,n)=>(t(),c("li",qe,[i("div",Ke,[i("span",Ne,g(v(a).time),1),i("div",Ge,[Je,i("ul",{onClick:n[0]||(n[0]=e=>(e=>{const t=e.target.dataset.type;console.log(t)})(e))},Qe)])]),i("div",Xe,g(v(a).content),1),i("div",Ye,[i("ul",Ze,[(t(!0),c(u,null,p(v(a).tags,(e=>(t(),c("li",{key:e.id},g(e.name),1)))),128))])])]))}});et.__scopeId="data-v-5e9ac864",f("data-v-14193008");const tt={class:"memo-view"},at=w(" MEMO "),nt={class:"input-wrapper"},rt=i("input",{type:"text"},null,-1),ot={class:"card-container"};y();var ct=e({setup(e){const r=m([{id:"1",tags:[{name:"日常",id:"2"}],content:"写下所思所想...",time:"2022-5-1",link:"#"}]);return(e,o)=>(t(),c("div",tt,[i("nav",null,[i("span",null,[at,i("i",null,[n(v(k))])]),i("div",nt,[rt,i("i",null,[n(v(P))])])]),n(We,{tags:[]}),i("ul",ot,[(t(!0),c(u,null,p(v(r),(e=>(t(),a(et,{key:e.id,article:e},null,8,["article"])))),128))])]))}});ct.__scopeId="data-v-14193008";export{ct as default};
